(this["webpackJsonpjob-application-tracker"]=this["webpackJsonpjob-application-tracker"]||[]).push([[0],{109:function(e,t,a){e.exports=a(194)},114:function(e,t,a){},133:function(e,t,a){},194:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(29),r=a.n(l),i=(a(114),a(42)),c=a.n(i),s=a(53),u=a(43),m=a(15),p=a.n(m),h=(a(133),a(67),a(52)),d=a(11),b=a(205),g=a(204),E=a(200),f=Object(n.createContext)(null);function v(){var e=Object(n.useContext)(f),t=e.userData,a=e.setUserData;return o.a.createElement(b.a,{bg:"dark",variant:"dark"},o.a.createElement(b.a.Brand,{href:"Job-Application-Tracker/"},"App Tracker"),o.a.createElement(g.a,{className:"mr-auto"},o.a.createElement(g.a.Link,{href:"Job-Application-Tracker/"},"Overview"),o.a.createElement(g.a.Link,{href:"Job-Application-Tracker/add"},"Add")),t.user?o.a.createElement("a",null,o.a.createElement(E.a,{onClick:function(){a({token:void 0,user:void 0}),localStorage.setItem("auth-token",""),window.location="Job-Application-Tracker/login"},variant:"info"},"Logout")):o.a.createElement("div",null,o.a.createElement("a",{href:"Job-Application-Tracker/login",className:"mr-2"},o.a.createElement(E.a,{variant:"info"},"Login")),o.a.createElement("a",{href:"Job-Application-Tracker/register"},o.a.createElement(E.a,{variant:"outline-info"},"Register"))))}var C=a(104),k=a(21),y=a(22),w=a(8),O=a(24),j=a(23),S=a(207),A=a(201),L=function(e){return o.a.createElement("tr",null,o.a.createElement("td",null,e.app.company),o.a.createElement("td",null,e.app.title),o.a.createElement("td",null,o.a.createElement("a",{href:e.app.link},e.app.link)),o.a.createElement("td",null,e.app.date.substring(0,10)),o.a.createElement("td",null,e.app.notes),o.a.createElement("td",null,o.a.createElement("a",{href:"Job-Application-Tracker/edit/"+e.app._id},"edit")," | ",o.a.createElement("a",{href:"#",onClick:function(){e.deleteApplication(e.app._id)}},"delete")))},T=function(e){Object(O.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).state={apps:[]},n.deleteApplication=n.deleteApplication.bind(Object(w.a)(n)),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("auth-token");null===t?(localStorage.setItem("auth-token",""),t="",window.location="Job-Application-Tracker/login"):""===t?window.location="Job-Application-Tracker/login":p.a.get("http://localhost:5000/applications/ofUser",{headers:{"x-auth-token":t}}).then((function(t){e.setState({apps:t.data})}))}},{key:"deleteApplication",value:function(e){p.a.delete("http://localhost:5000/applications/"+e).then((function(e){console.log(e.data)})),this.setState({apps:this.state.apps.filter((function(t){return t._id!==e}))})}},{key:"applicationList",value:function(){var e=this;return this.state.apps.map((function(t){return o.a.createElement(L,{app:t,deleteApplication:e.deleteApplication,key:t._id})}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(S.a,Object(C.a)({bg:"info",text:"white",style:{width:"18rem"},className:"mb-2"},"className","mt-5"),o.a.createElement(S.a.Header,null,"Summary"),o.a.createElement(S.a.Body,null,o.a.createElement(S.a.Title,null," Total Applications "),o.a.createElement(S.a.Text,null,"You have a total of ",this.state.apps.length," applications"))),o.a.createElement("h3",{className:"mt-5"},"Applications"),o.a.createElement(A.a,{striped:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Company"),o.a.createElement("th",null,"Position Title"),o.a.createElement("th",null,"Link"),o.a.createElement("th",null,"Date"),o.a.createElement("th",null,"Notes"),o.a.createElement("th",null,"Actions"))),o.a.createElement("tbody",null,this.applicationList())))}}]),a}(n.Component),N=a(58),x=a.n(N),D=(a(89),a(203)),P=a(202),J=a(105),G=function(e){Object(O.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).state={company:"",title:"",link:"",date:new Date,notes:""},n.onChangeCompany=n.onChangeCompany.bind(Object(w.a)(n)),n.onChangeTitle=n.onChangeTitle.bind(Object(w.a)(n)),n.onChangeLink=n.onChangeLink.bind(Object(w.a)(n)),n.onChangeDate=n.onChangeDate.bind(Object(w.a)(n)),n.onChangeNotes=n.onChangeNotes.bind(Object(w.a)(n)),n.onSubmit=n.onSubmit.bind(Object(w.a)(n)),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("auth-token");null===e?(localStorage.setItem("auth-token",""),e="",window.location="/login"):""===e&&(window.location="/login")}},{key:"onChangeCompany",value:function(e){this.setState({company:e.target.value})}},{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onChangeLink",value:function(e){this.setState({link:e.target.value})}},{key:"onChangeDate",value:function(e){this.setState({date:e})}},{key:"onChangeNotes",value:function(e){this.setState({notes:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=localStorage.getItem("auth-token"),a={company:this.state.company,title:this.state.title,link:this.state.link,date:this.state.date,notes:this.state.notes};console.log(a),p.a.post("http://localhost:5000/applications/add",a,{headers:{"x-auth-token":t}}).then((function(e){return console.log(e.data)})),window.location="Job-Application-Tracker/"}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h3",{className:"mt-5"},"Create Application"),o.a.createElement(D.a,{onSubmit:this.onSubmit},o.a.createElement(D.a.Group,{as:P.a},o.a.createElement(D.a.Label,{column:!0,sm:"2"},"Company"),o.a.createElement(J.a,{sm:"10"},o.a.createElement(D.a.Control,{type:"text",placeholder:"company",onChange:this.onChangeCompany}))),o.a.createElement(D.a.Group,{as:P.a},o.a.createElement(D.a.Label,{column:!0,sm:"2"},"Title"),o.a.createElement(J.a,{sm:"10"},o.a.createElement(D.a.Control,{type:"text",placeholder:"title",onChange:this.onChangeTitle}))),o.a.createElement(D.a.Group,{as:P.a},o.a.createElement(D.a.Label,{column:!0,sm:"2"},"Link"),o.a.createElement(J.a,{sm:"10"},o.a.createElement(D.a.Control,{type:"text",placeholder:"link",onChange:this.onChangeLink}))),o.a.createElement(D.a.Group,{as:P.a},o.a.createElement(D.a.Label,{column:!0,sm:"2"},"Notes"),o.a.createElement(J.a,{sm:"10"},o.a.createElement(D.a.Control,{type:"text",placeholder:"notes",onChange:this.onChangeNotes}))),o.a.createElement(D.a.Group,{as:P.a},o.a.createElement(D.a.Label,{column:!0,sm:"2"},"Date"),o.a.createElement(J.a,{sm:"10"},o.a.createElement(x.a,{selected:this.state.date,onChange:this.onChangeDate}))),o.a.createElement("div",{className:"form-group mt-5"},o.a.createElement("input",{type:"submit",value:"Create Application Log",className:"btn btn-primary"}))))}}]),a}(n.Component),I=function(e){Object(O.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).state={company:"",title:"",link:"",date:new Date,notes:""},n.onChangeCompany=n.onChangeCompany.bind(Object(w.a)(n)),n.onChangeTitle=n.onChangeTitle.bind(Object(w.a)(n)),n.onChangeLink=n.onChangeLink.bind(Object(w.a)(n)),n.onChangeDate=n.onChangeDate.bind(Object(w.a)(n)),n.onChangeNotes=n.onChangeNotes.bind(Object(w.a)(n)),n.onSubmit=n.onSubmit.bind(Object(w.a)(n)),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("http://localhost:5000/applications/"+this.props.match.params.id).then((function(t){e.setState({company:t.data.company,title:t.data.title,link:t.data.link,date:new Date(t.data.date),notes:t.data.notes})})).catch((function(e){console.log(e)}))}},{key:"onChangeCompany",value:function(e){this.setState({company:e.target.value})}},{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onChangeLink",value:function(e){this.setState({link:e.target.value})}},{key:"onChangeDate",value:function(e){this.setState({date:e})}},{key:"onChangeNotes",value:function(e){this.setState({notes:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={company:this.state.company,title:this.state.title,link:this.state.link,date:this.state.date,notes:this.state.notes};console.log(t),p.a.post("http://localhost:5000/applications/update/"+this.props.match.params.id,t).then((function(e){return console.log(e.data)})),window.location="Job-Application-Tracker/"}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h3",{className:"mt-5"},"Create Application"),o.a.createElement(D.a,{onSubmit:this.onSubmit},o.a.createElement(D.a.Group,{as:P.a},o.a.createElement(D.a.Label,{column:!0,sm:"2"},"Company"),o.a.createElement(J.a,{sm:"10"},o.a.createElement(D.a.Control,{type:"text",placeholder:this.state.company,onChange:this.onChangeCompany}))),o.a.createElement(D.a.Group,{as:P.a},o.a.createElement(D.a.Label,{column:!0,sm:"2"},"Title"),o.a.createElement(J.a,{sm:"10"},o.a.createElement(D.a.Control,{type:"text",placeholder:this.state.title,onChange:this.onChangeTitle}))),o.a.createElement(D.a.Group,{as:P.a},o.a.createElement(D.a.Label,{column:!0,sm:"2"},"Link"),o.a.createElement(J.a,{sm:"10"},o.a.createElement(D.a.Control,{type:"text",placeholder:this.state.link,onChange:this.onChangeLink}))),o.a.createElement(D.a.Group,{as:P.a},o.a.createElement(D.a.Label,{column:!0,sm:"2"},"Notes"),o.a.createElement(J.a,{sm:"10"},o.a.createElement(D.a.Control,{type:"text",placeholder:this.state.notes,onChange:this.onChangeNotes}))),o.a.createElement(D.a.Group,{as:P.a},o.a.createElement(D.a.Label,{column:!0,sm:"2"},"Date"),o.a.createElement(J.a,{sm:"10"},o.a.createElement(x.a,{selected:this.state.date,onChange:this.onChangeDate}))),o.a.createElement("div",{className:"form-group mt-5"},o.a.createElement("input",{type:"submit",value:"Update Application Log",className:"btn btn-primary"}))))}}]),a}(n.Component),U=a(206),V=function(e){Object(O.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).state={username:"",password:"",password_confirmation:"",isValid:!0,registrationErrors:""},n.handleSubmit=n.handleSubmit.bind(Object(w.a)(n)),n.onChangeUsername=n.onChangeUsername.bind(Object(w.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(w.a)(n)),n.onChangePasswordConfirm=n.onChangePasswordConfirm.bind(Object(w.a)(n)),n}return Object(y.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onChangePasswordConfirm",value:function(e){this.setState({password_confirmation:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),this.state.password===this.state.password_confirmation){this.setState({isValid:!0});var a={username:this.state.username,password:this.state.password,password_confirmation:this.state.password_confirmation};console.log(a),p.a.post("http://localhost:5000/users/add",a).then((function(e){"created"===e.data.status&&t.props.handleSuccessfulAuth(e.data),console.log(e.data),window.location="Job-Application-Tracker/login"})).catch((function(e){console.log("registration error",e),t.setState({isValid:!1})}))}else this.setState({isValid:!1})}},{key:"render",value:function(){return o.a.createElement("div",{className:"mt-5"},o.a.createElement(D.a,{onSubmit:this.handleSubmit},o.a.createElement(D.a.Group,{controlId:"formGroupEmail"},o.a.createElement(D.a.Label,null,"Username"),o.a.createElement(D.a.Control,{type:"text",placeholder:"username",onChange:this.onChangeUsername,required:!0})),o.a.createElement(D.a.Group,{controlId:"formGroupPassword"},o.a.createElement(D.a.Label,null,"Password"),o.a.createElement(D.a.Control,{type:"password",placeholder:"Password",onChange:this.onChangePassword,required:!0})),o.a.createElement(D.a.Group,{controlId:"formGroupPassword"},o.a.createElement(D.a.Label,null,"Confirm Password"),o.a.createElement(D.a.Control,{type:"password",placeholder:"Confirm Password",onChange:this.onChangePasswordConfirm,required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"submit",value:"Create User",className:"btn btn-primary"})),this.state.isValid?null:o.a.createElement(U.a,{variant:"danger"},"One of the following errors has occured:",o.a.createElement("li",null,"Username already in use"),o.a.createElement("li",null,"Password must be more than 3 characters"),o.a.createElement("li",null,"Password is invalid"),o.a.createElement("li",null,"Password Confirmation does not match"))))}}]),a}(n.Component);function _(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(),i=Object(u.a)(r,2),m=i[0],h=i[1],d=Object(n.useState)({isValid:!0}),b=Object(u.a)(d,2),g=b[0],E=b[1],v=Object(n.useContext)(f).setUserData,C=function(){var e=Object(s.a)(c.a.mark((function e(t){var n,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={username:a,password:m},e.next=5,p.a.post("http://localhost:5000/users/login",n);case 5:o=e.sent,v({token:o.data.token,user:o.data.user}),localStorage.setItem("auth-token",o.data.token),window.location="Job-Application-Tracker/",e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),E({isValid:!1});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("div",{className:"mt-5"},o.a.createElement(D.a,{className:"form",onSubmit:C},o.a.createElement(D.a.Group,{controlId:"formGroupEmail"},o.a.createElement(D.a.Label,null,"Username"),o.a.createElement(D.a.Control,{type:"text",placeholder:"username",onChange:function(e){return l(e.target.value)},required:!0})),o.a.createElement(D.a.Group,{controlId:"formGroupPassword"},o.a.createElement(D.a.Label,null,"Password"),o.a.createElement(D.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return h(e.target.value)},required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"submit",value:"Login",className:"btn btn-primary"})),g.isValid?null:o.a.createElement(U.a,{variant:"danger"},"One of the following errors has occured:",o.a.createElement("li",null,"Invalid credentials"),o.a.createElement("li",null,"Account not registered"))))}var q=function(e){Object(O.a)(a,e);var t=Object(j.a)(a);function a(){return Object(k.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(_,null),o.a.createElement("div",null,o.a.createElement("a",{href:"Job-Application-Tracker/register"},o.a.createElement("input",{type:"submit",value:"Register",className:"btn btn-primary"}))))}}]),a}(n.Component);function B(){var e=Object(n.useState)({token:void 0,user:void 0}),t=Object(u.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(s.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=localStorage.getItem("auth-token"))&&(localStorage.setItem("auth-token",""),t=""),e.next=4,p.a.post("http://localhost:5000/users/tokenIsValid",null,{headers:{"x-auth-token":t}});case 4:if(!e.sent.data){e.next=10;break}return e.next=8,p.a.get("http://localhost:5000/users/",{headers:{"x-auth-token":t}});case 8:a=e.sent,l({token:t,user:a.data});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),o.a.createElement(h.a,null,o.a.createElement(f.Provider,{value:{userData:a,setUserData:l}},o.a.createElement("div",{className:"container"},o.a.createElement(v,null),o.a.createElement(d.a,{path:"Job-Application-Tracker/",exact:!0,component:T}),o.a.createElement(d.a,{path:"Job-Application-Tracker/add",component:G}),o.a.createElement(d.a,{path:"Job-Application-Tracker/edit/:id",component:I}),o.a.createElement(d.a,{path:"Job-Application-Tracker/register",component:V}),o.a.createElement(d.a,{path:"Job-Application-Tracker/login",component:q}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[109,1,2]]]);
//# sourceMappingURL=main.c8e972db.chunk.js.map